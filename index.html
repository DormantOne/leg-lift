<!DOCTYPE html>
<html>
<head>
  <title>Leg Lift Test</title>
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  
  <!-- Add Firestore -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
</head>
<body>

  <!-- Form for capturing leg lift test data -->
  <form id="testForm">
    <input type="date" id="testDate" name="testDate" required>
    <input type="text" id="roomNumber" name="roomNumber" placeholder="Room Number" required>
    <input type="number" id="legLiftingScore" name="legLiftingScore" placeholder="Leg Lifting Score" required>
    <label for="outcome">Can walk next day</label>
    <input type="checkbox" id="outcome" name="outcome">
    <input type="submit" value="Submit">
  </form>

  <script>
    // Your web app's Firebase configuration

// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCCY8_z-0C0RCQUp9brvM0hFMd7VsrjSXo",
  authDomain: "leg-lift.firebaseapp.com",
  projectId: "leg-lift",
  storageBucket: "leg-lift.appspot.com",
  messagingSenderId: "973223228733",
  appId: "1:973223228733:web:be43c16653cac99fe90154",
  measurementId: "G-0YK2ZTNCVX"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const db = firebase.firestore(app);




    // Event listener for form submissions
    document.getElementById('testForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Capture form data
      const testDate = document.getElementById('testDate').value;
      const roomNumber = document.getElementById('roomNumber').value;
      const legLiftingScore = document.getElementById('legLiftingScore').value;
      const outcome = document.getElementById('outcome').checked;

      // Submit to Firestore
      db.collection('tests').add({
        date: testDate,
        room: roomNumber,
        legLiftingScore: parseInt(legLiftingScore),
        outcome: outcome
      }).then((docRef) => {
        console.log("Document written with ID: ", docRef.id);
      })
      .catch((error) => {
        console.error("Error adding document: ", error);
      });
    });
  </script>
</body>
</html>
